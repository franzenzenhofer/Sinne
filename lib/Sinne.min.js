(function(){var j,l;j={};("undefined"!==typeof window&&null!==window?window:module.exports).Sinne=j;j.getUserMedia=function(e,b,d){for(var c,a,h;!b;)return!1;for(;!d;)return!1;navigator.getUserMedia_=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;if(navigator.getUserMedia_){c={};a="";!0===e.video&&(c.video=!0,a="video");!0===e.audio&&(c.audio=!0,""!==a&&(a+=", "),a+="audio");try{h=navigator.getUserMedia_(c,b,d)}catch(g){try{h=navigator.getUserMedia_(a,
b,d)}catch(f){return d({name:"configuration_syntax_not_supported",message:"could not configure getUserMedia",sinne_error_id:1}),!1}}return h}return d({name:"getUsereMedia_not_supported",message:"getUsereMedia is not supported",sinne_error_id:0})};l=function(e,b,d,c,a){var h,g,f,i,k;null==e&&(e=!1);null==b&&(b=!1);null==a&&(a={});if(!0===e)g=document.createElement("video");else if(!0===b)g=document.createElement("audio");else return c({name:"neither_audio_nor_video",message:"neither audio nor video support is requested",
sinne_error_id:3}),!1;h={autoplay:!0,controls:!0,init:function(a){a.play();return a.addEventListener("error",function(a){return c({name:"init_didnt_work",message:"initialzing the "+a.srcElement+" didn't work out",sinne_error_id:4})})}};i={};for(f in h)k=h[f],i[f]=k;for(f in a)k=a[f],i[f]=k;for(f in i)a=i[f],g[f]=a;"function"===typeof i.init&&i.init(g);return j.getUserMedia({video:e,audio:b},function(a){var b,c;"undefined"!==typeof MediaStream&&null!==MediaStream&&a instanceof MediaStream?g.src=a:
(b=null!=(c=window.URL)?c:window.webkitURL,g.src=b?b.createObjectURL(a):a);return d(g,a)},c)};j.getUserVideo=function(e,b,d){var c;c=!1;if(!0===(null!=d?d.audio:void 0))c=!0;return l(!0,c,e,b,d)};j.getUserAudio=function(e,b,d){return l(!1,!0,e,b,d)}}).call(this);
